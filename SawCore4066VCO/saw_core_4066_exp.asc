Version 4
SHEET 1 1448 968
WIRE 576 -112 560 -112
WIRE 672 -112 656 -112
WIRE 624 -32 576 -32
WIRE 672 -32 672 -112
WIRE 864 -32 672 -32
WIRE 1136 -32 928 -32
WIRE 608 16 544 16
WIRE 720 16 688 16
WIRE -320 64 -336 64
WIRE -224 64 -240 64
WIRE 1008 160 896 160
WIRE 1136 160 1136 -32
WIRE 1136 160 1088 160
WIRE 544 176 544 16
WIRE 608 176 544 176
WIRE 720 176 720 16
WIRE 720 176 672 176
WIRE -320 192 -336 192
WIRE -208 192 -240 192
WIRE 272 256 272 192
WIRE -240 304 -352 304
WIRE 192 304 192 272
WIRE 1056 304 1056 288
WIRE 640 320 640 304
WIRE 1024 320 960 320
WIRE -448 336 -448 304
WIRE 448 336 400 336
WIRE 544 336 544 176
WIRE 544 336 528 336
WIRE 608 336 544 336
WIRE 1136 336 1136 160
WIRE 1136 336 1088 336
WIRE 720 352 720 176
WIRE 720 352 672 352
WIRE 784 352 720 352
WIRE 896 352 896 160
WIRE 896 352 864 352
WIRE 1024 352 896 352
WIRE 608 368 544 368
WIRE -288 384 -288 368
WIRE 272 384 272 336
WIRE 336 384 272 384
WIRE 1056 384 1056 368
WIRE -352 400 -352 304
WIRE -320 400 -352 400
WIRE 544 400 544 368
WIRE 640 400 640 384
WIRE -240 416 -240 304
WIRE -240 416 -256 416
WIRE 272 416 272 384
WIRE -448 432 -448 416
WIRE -448 432 -528 432
WIRE -320 432 -448 432
WIRE 848 432 832 432
WIRE 960 432 960 320
WIRE 960 432 928 432
WIRE -528 448 -528 432
WIRE -448 448 -448 432
WIRE -288 464 -288 448
WIRE 0 464 -32 464
WIRE 96 464 80 464
WIRE 192 464 192 384
WIRE 192 464 176 464
WIRE 208 464 192 464
WIRE 960 464 960 432
WIRE 400 480 400 432
WIRE 720 528 720 352
WIRE -528 544 -528 512
WIRE -448 544 -448 528
WIRE 192 544 192 464
WIRE 272 544 272 512
WIRE 960 560 960 544
WIRE -240 656 -352 656
WIRE 192 656 192 624
WIRE -448 688 -448 656
WIRE -288 736 -288 720
WIRE -352 752 -352 656
WIRE -320 752 -352 752
WIRE -240 768 -240 656
WIRE -240 768 -256 768
WIRE -448 784 -448 768
WIRE -448 784 -528 784
WIRE -320 784 -448 784
WIRE -528 800 -528 784
WIRE -448 800 -448 784
WIRE -288 816 -288 800
WIRE -528 896 -528 864
WIRE -448 896 -448 880
FLAG -336 64 0
FLAG -336 192 0
FLAG -224 64 V+
IOPIN -224 64 Out
FLAG -208 192 V-
IOPIN -208 192 Out
FLAG -240 416 MIDO
IOPIN -240 416 Out
FLAG 640 304 V+
IOPIN 640 304 In
FLAG 640 400 V-
IOPIN 640 400 In
FLAG 544 400 MIDO
IOPIN 544 400 In
FLAG 1056 288 V+
IOPIN 1056 288 In
FLAG 1056 384 V-
IOPIN 1056 384 In
FLAG 576 -32 V-
IOPIN 576 -32 In
FLAG 560 -112 V-
IOPIN 560 -112 In
FLAG 960 560 V-
IOPIN 960 560 In
FLAG 832 432 V+
IOPIN 832 432 In
FLAG -32 464 0
FLAG 400 480 Vref
IOPIN 400 480 In
FLAG 272 192 V+
IOPIN 272 192 In
FLAG 272 544 V-
IOPIN 272 544 In
FLAG 192 656 Vref
IOPIN 192 656 In
FLAG 192 272 V+
IOPIN 192 272 In
FLAG -288 368 V+
IOPIN -288 368 In
FLAG -288 464 V-
IOPIN -288 464 In
FLAG -448 304 V+
IOPIN -448 304 In
FLAG -448 544 V-
IOPIN -448 544 In
FLAG -528 544 V-
IOPIN -528 544 In
FLAG -240 768 Vref
IOPIN -240 768 Out
FLAG -288 720 V+
IOPIN -288 720 In
FLAG -288 816 V-
IOPIN -288 816 In
FLAG -448 656 V+
IOPIN -448 656 In
FLAG -448 896 V-
IOPIN -448 896 In
FLAG -528 896 V-
IOPIN -528 896 In
FLAG 720 528 Saw
IOPIN 720 528 Out
SYMBOL voltage -224 64 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -224 192 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName V2
SYMATTR Value 0
SYMBOL Opamps/UniversalOpamp2 640 352 R0
SYMATTR InstName U3
SYMBOL cap 672 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100nF
SYMBOL res 880 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 1104 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 47k
SYMBOL Opamps/UniversalOpamp2 1056 336 R0
SYMATTR InstName U4
SYMBOL sw 592 16 M90
SYMATTR InstName S1
SYMATTR Value SW4066
SYMBOL res 672 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1Meg
SYMBOL res 944 448 R0
SYMATTR InstName R9
SYMATTR Value 22k
SYMBOL res 944 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL diode 928 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 544 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL voltage 96 464 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName CV
SYMATTR Value 1
SYMBOL npn 336 336 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL pnp 208 512 M180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL res 256 240 R0
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL res 192 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL res 208 400 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 2.2Meg
SYMBOL res 208 640 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 2.2k
SYMBOL Opamps/UniversalOpamp2 -288 416 R0
SYMATTR InstName U2
SYMBOL res -464 320 R0
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res -464 432 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL cap -544 448 R0
SYMATTR InstName C1
SYMATTR Value 10µF
SYMBOL Opamps/UniversalOpamp2 -288 768 R0
SYMATTR InstName U5
SYMBOL res -464 672 R0
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res -464 784 R0
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL cap -544 800 R0
SYMATTR InstName C3
SYMATTR Value 10µF
TEXT 8 -224 Left 2 !.model SW4066 SW(Ron=1 Roff=1Meg Vt=9.0 Vh=-4.5)\n.tran 1n 200m
